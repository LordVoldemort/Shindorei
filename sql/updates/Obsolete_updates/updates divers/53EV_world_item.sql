-- Loot Naxx Heroic 25 Winner

-- AnubRekhan
DELETE FROM `creature_loot_template` WHERE entry=29249;
INSERT INTO `creature_loot_template` VALUES
(29249,39701,0,1,3,1,1,0,0,0),
(29249,39702,0,1,3,1,1,0,0,0),
(29249,39703,0,1,3,1,1,0,0,0),
(29249,39704,0,1,2,1,1,0,0,0),
(29249,39706,0,1,2,1,1,0,0,0),
(29249,39712,0,1,1,1,1,0,0,0),
(29249,39714,0,1,1,1,1,0,0,0),
(29249,39716,0,1,1,1,1,0,0,0),
(29249,39717,0,1,1,1,1,0,0,0),
(29249,39718,0,1,3,1,1,0,0,0),
(29249,39719,0,1,3,1,1,0,0,0),
(29249,39720,0,1,2,1,1,0,0,0),
(29249,39721,0,1,2,1,1,0,0,0),
(29249,39722,0,1,2,1,1,0,0,0),
(29249,40074,100,1,0,-40074,1,0,0,0),
(29249,45624,100,1,0,1,1,0,0,0);

-- Grand Widow Faerlina
DELETE FROM `creature_loot_template` WHERE entry=29268;
INSERT INTO `creature_loot_template` VALUES
(29268,39723,0,1,1,1,1,0,0,0),
(29268,39725,0,1,1,1,1,0,0,0),
(29268,39726,0,1,1,1,1,0,0,0),
(29268,39727,0,1,1,1,1,0,0,0),
(29268,39728,0,1,2,1,1,0,0,0),
(29268,39729,0,1,3,1,1,0,0,0),
(29268,39730,0,1,3,1,1,0,0,0),
(29268,39731,0,1,2,1,1,0,0,0),
(29268,39732,0,1,3,1,1,0,0,0),
(29268,39733,0,1,3,1,1,0,0,0),
(29268,39734,0,1,2,1,1,0,0,0),
(29268,39735,0,1,3,1,1,0,0,0),
(29268,39756,0,1,2,1,1,0,0,0),
(29268,39757,0,1,2,1,1,0,0,0),
(29268,40074,100,1,0,-40074,1,0,0,0),
(29268,45624,100,1,0,1,1,0,0,0);

-- Maexna
DELETE FROM `creature_loot_template` WHERE entry=29278;
INSERT INTO `creature_loot_template` VALUES
(29278,39758,0,1,2,1,1,0,0,0),
(29278,39759,0,1,3,1,1,0,0,0),
(29278,39760,0,1,3,1,1,0,0,0),
(29278,39761,0,1,3,1,1,0,0,0),
(29278,39762,0,1,3,1,1,0,0,0),
(29278,39763,0,1,1,1,1,0,0,0),
(29278,39764,0,1,2,1,1,0,0,0),
(29278,39765,0,1,2,1,1,0,0,0),
(29278,39766,0,1,2,1,1,0,0,0),
(29278,39767,0,1,1,1,1,0,0,0),
(29278,39768,0,1,2,1,1,0,0,0),
(29278,40060,0,1,3,1,1,0,0,0),
(29278,40061,0,1,1,1,1,0,0,0),
(29278,40062,0,1,1,1,1,0,0,0),
(29278,40063,0,1,1,1,1,0,0,0),
(29278,40257,100,1,0,-40257,1,0,0,0),
(29278,45624,100,1,0,1,1,0,0,0);

-- Noth the Plaguebringer
DELETE FROM `creature_loot_template` WHERE entry=29615;
INSERT INTO `creature_loot_template` VALUES
(29615,40074,100,1,0,-40074,1,0,0,0),
(29615,40184,0,1,3,1,1,0,0,0),
(29615,40185,0,1,2,1,1,0,0,0),
(29615,40186,0,1,3,1,1,0,0,0),
(29615,40187,0,1,1,1,1,0,0,0),
(29615,40188,0,1,3,1,1,0,0,0),
(29615,40189,0,1,2,1,1,0,0,0),
(29615,40190,0,1,3,1,1,0,0,0),
(29615,40191,0,1,1,1,1,0,0,0),
(29615,40192,0,1,2,1,1,0,0,0),
(29615,40193,0,1,1,1,1,0,0,0),
(29615,40196,0,1,3,1,1,0,0,0),
(29615,40197,0,1,1,1,1,0,0,0),
(29615,40198,0,1,2,1,1,0,0,0),
(29615,40200,0,1,1,1,1,0,0,0),
(29615,40602,0,1,2,1,1,0,0,0),
(29615,45624,100,1,0,1,1,0,0,0);

-- Heigan The Unclean
DELETE FROM `creature_loot_template` WHERE entry=29701;
INSERT INTO `creature_loot_template` VALUES
(29701,40201,0,1,3,1,1,0,0,0),
(29701,40203,0,1,3,1,1,0,0,0),
(29701,40204,0,1,3,1,1,0,0,0),
(29701,40205,0,1,3,1,1,0,0,0),
(29701,40206,0,1,2,1,1,0,0,0),
(29701,40207,0,1,2,1,1,0,0,0),
(29701,40208,0,1,1,1,1,0,0,0),
(29701,40209,0,1,2,1,1,0,0,0),
(29701,40210,0,1,2,1,1,0,0,0),
(29701,40233,0,1,2,1,1,0,0,0),
(29701,40234,0,1,1,1,1,0,0,0),
(29701,40235,0,1,1,1,1,0,0,0),
(29701,40236,0,1,1,1,1,0,0,0),
(29701,40237,0,1,1,1,1,0,0,0),
(29701,40238,0,1,3,1,1,0,0,0),
(29701,40257,100,1,0,-40257,1,0,0,0),
(29701,45624,100,1,0,1,1,0,0,0);

-- Loatheb
DELETE FROM `creature_loot_template` WHERE entry=29718;
INSERT INTO `creature_loot_template` VALUES
(29718,40239,0,1,1,1,1,0,0,0),
(29718,40240,0,1,1,1,1,0,0,0),
(29718,40241,0,1,1,1,1,0,0,0),
(29718,40242,0,1,1,1,1,0,0,0),
(29718,40243,0,1,1,1,1,0,0,0),
(29718,40244,0,1,1,1,1,0,0,0),
(29718,40245,0,1,1,1,1,0,0,0),
(29718,40246,0,1,1,1,1,0,0,0),
(29718,40247,0,1,1,1,1,0,0,0),
(29718,40249,0,1,1,1,1,0,0,0),
(29718,40639,100,1,0,-40639,2,0,0,0),
(29718,45624,100,1,0,1,1,0,0,0);

-- Instructor Razuvious
DELETE FROM `creature_loot_template` WHERE entry=29940;
INSERT INTO `creature_loot_template` VALUES
(29940,40074,100,1,0,-40074,1,0,0,0),
(29940,40305,0,1,3,1,1,0,0,0),
(29940,40306,0,1,1,1,1,0,0,0),
(29940,40315,0,1,3,1,1,0,0,0),
(29940,40316,0,1,2,1,1,0,0,0),
(29940,40317,0,1,3,1,1,0,0,0),
(29940,40318,0,1,1,1,1,0,0,0),
(29940,40319,0,1,1,1,1,0,0,0),
(29940,40320,0,1,2,1,1,0,0,0),
(29940,40321,0,1,3,1,1,0,0,0),
(29940,40322,0,1,2,1,1,0,0,0),
(29940,40323,0,1,2,1,1,0,0,0),
(29940,40324,0,1,3,1,1,0,0,0),
(29940,40325,0,1,2,1,1,0,0,0),
(29940,40326,0,1,1,1,1,0,0,0),
(29940,40327,0,1,1,1,1,0,0,0),
(29940,45624,100,1,0,1,1,0,0,0);

-- Gothik
DELETE FROM `creature_loot_template` WHERE entry=29955;
INSERT INTO `creature_loot_template` VALUES
(29955,40257,100,1,0,-40257,1,0,0,0),
(29955,40328,0,1,2,1,1,0,0,0),
(29955,40329,0,1,1,1,1,0,0,0),
(29955,40330,0,1,2,1,1,0,0,0),
(29955,40331,0,1,3,1,1,0,0,0),
(29955,40332,0,1,3,1,1,0,0,0),
(29955,40333,0,1,2,1,1,0,0,0),
(29955,40334,0,1,2,1,1,0,0,0),
(29955,40335,0,1,2,1,1,0,0,0),
(29955,40336,0,1,3,1,1,0,0,0),
(29955,40337,0,1,1,1,1,0,0,0),
(29955,40338,0,1,1,1,1,0,0,0),
(29955,40339,0,1,3,1,1,0,0,0),
(29955,40340,0,1,3,1,1,0,0,0),
(29955,40341,0,1,1,1,1,0,0,0),
(29955,40342,0,1,1,1,1,0,0,0),
(29955,45624,100,1,0,1,1,0,0,0);

-- Horsements
DELETE FROM `gameobject_loot_template` WHERE entry=193426;
INSERT INTO `gameobject_loot_template` VALUES 
(193426,39397,0,1,2,1,1,0,0,0),
(193426,40286,0,1,2,1,1,0,0,0),
(193426,40343,0,1,2,1,1,0,0,0),
(193426,40344,0,1,2,1,1,0,0,0),
(193426,40345,0,1,2,1,1,0,0,0),
(193426,40346,0,1,2,1,1,0,0,0),
(193426,40347,0,1,1,1,1,0,0,0),
(193426,40348,0,1,1,1,1,0,0,0),
(193426,40349,0,1,1,1,1,0,0,0),
(193426,40350,0,1,1,1,1,0,0,0),
(193426,40352,0,1,1,1,1,0,0,0),
(193426,40627,100,1,0,-40627,2,0,0,0),
(193426,45624,100,1,0,1,1,0,0,0);

-- Patchwerk
DELETE FROM `creature_loot_template` WHERE entry=29324;
INSERT INTO `creature_loot_template` VALUES
(29324,40074,100,1,0,-40074,1,0,0,0),
(29324,40259,0,1,3,1,1,0,0,0),
(29324,40260,0,1,3,1,1,0,0,0),
(29324,40261,0,1,1,1,1,0,0,0),
(29324,40262,0,1,3,1,1,0,0,0),
(29324,40263,0,1,1,1,1,0,0,0),
(29324,40264,0,1,1,1,1,0,0,0),
(29324,40265,0,1,2,1,1,0,0,0),
(29324,40266,0,1,3,1,1,0,0,0),
(29324,40267,0,1,1,1,1,0,0,0),
(29324,40268,0,1,3,1,1,0,0,0),
(29324,40269,0,1,1,1,1,0,0,0),
(29324,40270,0,1,2,1,1,0,0,0),
(29324,40271,0,1,2,1,1,0,0,0),
(29324,40272,0,1,2,1,1,0,0,0),
(29324,40273,0,1,2,1,1,0,0,0),
(29324,45624,100,1,0,1,1,0,0,0);

-- Grobbulus
DELETE FROM `creature_loot_template` WHERE entry=29373;
INSERT INTO `creature_loot_template` VALUES
(29373,40074,100,1,0,-40074,1,0,0,0),
(29373,40259,0,1,3,1,1,0,0,0),
(29373,40260,0,1,3,1,1,0,0,0),
(29373,40261,0,1,1,1,1,0,0,0),
(29373,40262,0,1,3,1,1,0,0,0),
(29373,40263,0,1,1,1,1,0,0,0),
(29373,40264,0,1,1,1,1,0,0,0),
(29373,40265,0,1,2,1,1,0,0,0),
(29373,40266,0,1,3,1,1,0,0,0),
(29373,40267,0,1,1,1,1,0,0,0),
(29373,40268,0,1,3,1,1,0,0,0),
(29373,40269,0,1,1,1,1,0,0,0),
(29373,40270,0,1,2,1,1,0,0,0),
(29373,40271,0,1,2,1,1,0,0,0),
(29373,40272,0,1,2,1,1,0,0,0),
(29373,40273,0,1,2,1,1,0,0,0),
(29373,45624,100,1,0,1,1,0,0,0);

-- Gluth
DELETE FROM `creature_loot_template` WHERE entry=29417;
INSERT INTO `creature_loot_template` VALUES
(29417,40639,100,1,0,-40639,1,0,0,0),
(29417,40627,100,1,0,-40627,1,0,0,0),
(29417,40636,100,1,0,-40636,1,0,0,0),
(29417,39717,0,1,2,1,1,0,0,0),
(29417,39714,0,1,2,1,1,0,0,0),
(29417,40287,0,1,2,1,1,0,0,0),
(29417,39721,0,1,2,1,1,0,0,0);

-- Thaddius
DELETE FROM `creature_loot_template` WHERE entry=29448;
INSERT INTO `creature_loot_template` VALUES
(29448,40294,0,1,1,1,1,0,0,0),
(29448,40296,0,1,1,1,1,0,0,0),
(29448,40297,0,1,1,1,1,0,0,0),
(29448,40298,0,1,1,1,1,0,0,0),
(29448,40299,0,1,1,1,1,0,0,0),
(29448,40300,0,1,1,1,1,0,0,0),
(29448,40301,0,1,1,1,1,0,0,0),
(29448,40302,0,1,1,1,1,0,0,0),
(29448,40303,0,1,1,1,1,0,0,0),
(29448,40304,0,1,1,1,1,0,0,0),
(29448,40636,100,1,0,-40636,2,0,0,0),
(29448,45624,100,1,0,1,1,0,0,0);

-- Sapphiron
DELETE FROM `creature_loot_template` WHERE entry=29991;
INSERT INTO `creature_loot_template` VALUES
(29991,40362,0,1,4,1,1,0,0,0),
(29991,40363,0,1,4,1,1,0,0,0),
(29991,40365,0,1,2,1,1,0,0,0),
(29991,40366,0,1,4,1,1,0,0,0),
(29991,40367,0,1,3,1,1,0,0,0),
(29991,40368,0,1,1,1,1,0,0,0),
(29991,40369,0,1,3,1,1,0,0,0),
(29991,40370,0,1,3,1,1,0,0,0),
(29991,40371,0,1,4,1,1,0,0,0),
(29991,40372,0,1,2,1,1,0,0,0),
(29991,40373,0,1,4,1,1,0,0,0),
(29991,40374,0,1,1,1,1,0,0,0),
(29991,40375,0,1,1,1,1,0,0,0),
(29991,40376,0,1,1,1,1,0,0,0),
(29991,40377,0,1,3,1,1,0,0,0),
(29991,40378,0,1,2,1,1,0,0,0),
(29991,40379,0,1,2,1,1,0,0,0),
(29991,40380,0,1,3,1,1,0,0,0),
(29991,40381,0,1,2,1,1,0,0,0),
(29991,40382,0,1,1,1,1,0,0,0),
(29991,45624,100,1,0,1,1,0,0,0),
(29991,44577,100,1,0,1,1,0,0,0);

-- KelThuzad
DELETE FROM `creature_loot_template` WHERE entry=30061;
INSERT INTO `creature_loot_template` VALUES
(30061,40383,0,1,2,1,1,0,0,0),
(30061,40384,0,1,3,1,1,0,0,0),
(30061,40385,0,1,3,1,1,0,0,0),
(30061,40386,0,1,3,1,1,0,0,0),
(30061,40387,0,1,2,1,1,0,0,0),
(30061,40388,0,1,1,1,1,0,0,0),
(30061,40395,0,1,1,1,1,0,0,0),
(30061,40396,0,1,1,1,1,0,0,0),
(30061,40398,0,1,1,1,1,0,0,0),
(30061,40399,0,1,3,1,1,0,0,0),
(30061,40400,0,1,2,1,1,0,0,0),
(30061,40401,0,1,2,1,1,0,0,0),
(30061,40402,0,1,1,1,1,0,0,0),
(30061,40403,0,1,3,1,1,0,0,0),
(30061,40405,0,1,2,1,1,0,0,0),
(30061,40633,100,1,0,-40633,2,0,0,0),
(30061,45624,100,1,0,1,1,0,0,0);

-- Reference
DELETE FROM `reference_loot_template` WHERE entry=40074;
INSERT INTO `reference_loot_template` VALUES
(40074,40064,0,1,1,1,1,0,0,0),
(40074,40065,0,1,1,1,1,0,0,0),
(40074,40069,0,1,1,1,1,0,0,0),
(40074,40071,0,1,1,1,1,0,0,0),
(40074,40074,0,1,1,1,1,0,0,0),
(40074,40075,0,1,1,1,1,0,0,0),
(40074,40080,0,1,1,1,1,0,0,0),
(40074,40107,0,1,1,1,1,0,0,0),
(40074,40108,0,1,1,1,1,0,0,0);

DELETE FROM `reference_loot_template` WHERE entry=40257;
INSERT INTO `reference_loot_template` VALUES
(40257,40250,0,1,1,1,1,0,0,0),
(40257,40251,0,1,1,1,1,0,0,0),
(40257,40252,0,1,1,1,1,0,0,0),
(40257,40253,0,1,1,1,1,0,0,0),
(40257,40254,0,1,1,1,1,0,0,0),
(40257,40255,0,1,1,1,1,0,0,0),
(40257,40256,0,1,1,1,1,0,0,0),
(40257,40257,0,1,1,1,1,0,0,0),
(40257,40258,0,1,1,1,1,0,0,0);

DELETE FROM `reference_loot_template` WHERE entry=40639;
INSERT INTO `reference_loot_template` VALUES
(40639,40637,0,1,1,1,1,0,0,0),
(40639,40638,0,1,1,1,1,0,0,0),
(40639,40639,0,1,1,1,1,0,0,0);

DELETE FROM `reference_loot_template` WHERE entry=40627;
INSERT INTO `reference_loot_template` VALUES
(40627,40625,0,1,1,1,1,0,0,0),
(40627,40626,0,1,1,1,1,0,0,0),
(40627,40627,0,1,1,1,1,0,0,0);

DELETE FROM `reference_loot_template` WHERE entry=40636;
INSERT INTO `reference_loot_template` VALUES
(40636,40634,0,1,1,1,1,0,0,0),
(40636,40635,0,1,1,1,1,0,0,0),
(40636,40636,0,1,1,1,1,0,0,0);

DELETE FROM `reference_loot_template` WHERE entry=40633;
INSERT INTO `reference_loot_template` VALUES
(40633,40631,0,1,1,1,1,0,0,0),
(40633,40632,0,1,1,1,1,0,0,0),
(40633,40633,0,1,1,1,1,0,0,0);

-- Lootid

UPDATE `creature_template` SET `lootid`=29249 WHERE entry=29249;
UPDATE `creature_template` SET `lootid`=29268 WHERE entry=29268;
UPDATE `creature_template` SET `lootid`=29278 WHERE entry=29278;
UPDATE `creature_template` SET `lootid`=29615 WHERE entry=29615;
UPDATE `creature_template` SET `lootid`=29701 WHERE entry=29701;
UPDATE `creature_template` SET `lootid`=29718 WHERE entry=29718;
UPDATE `creature_template` SET `lootid`=29940 WHERE entry=29940;
UPDATE `creature_template` SET `lootid`=29955 WHERE entry=29955;
UPDATE `creature_template` SET `lootid`=29324 WHERE entry=29324;
UPDATE `creature_template` SET `lootid`=29373 WHERE entry=29373;
UPDATE `creature_template` SET `lootid`=29417 WHERE entry=29417;
UPDATE `creature_template` SET `lootid`=29448 WHERE entry=29448;
UPDATE `creature_template` SET `lootid`=29991 WHERE entry=29991;
UPDATE `creature_template` SET `lootid`=30061 WHERE entry=30061;

-- SpawnMask
UPDATE `creature` SET `spawnMask`=3 WHERE map=533;

SET @Sapphiron := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15989);
SET @KelThuzad := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15990);

-- Boss (Sapphiron)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Sapphiron;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Sapphiron;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Sapphiron,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Sapphiron,44577,100,0,1,1,0,0,0), -- Heroic Key to the Focusing Iris
--
(@Sapphiron,1,100,0,-@Reference,4,0,0,0); -- Reference, he drop 4 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40367,0,1,1,1,0,0,0),  -- Boots of the Great Construct
(@Reference,40377,0,1,1,1,0,0,0),  -- Noble Birthright Pauldrons
(@Reference,40372,0,1,1,1,0,0,0),  -- Rune of Repulsion
(@Reference,40382,0,1,1,1,0,0,0),  -- Soul of the Dead
(@Reference,40365,0,1,1,1,0,0,0),  -- Breastplate of Frozen Pain
(@Reference,40369,0,1,1,1,0,0,0),  -- Icy Blast Amulet
(@Reference,40373,0,1,1,1,0,0,0),  -- Extract of Necromantic Power
(@Reference,40381,0,1,1,1,0,0,0),  -- Sympathy
(@Reference,40370,0,1,1,1,0,0,0),  -- Gatekeeper
(@Reference,40380,0,1,1,1,0,0,0),  -- Gloves of Grandeur
(@Reference,40363,0,1,1,1,0,0,0),  -- Bone-Inlaid Legguards
(@Reference,40374,0,1,1,1,0,0,0),  -- Cosmic Lights
(@Reference,40362,0,1,1,1,0,0,0),  -- Gloves of Fast Reactions
(@Reference,40368,0,1,1,1,0,0,0),  -- Murder
(@Reference,40379,0,1,1,1,0,0,0),  -- Legguards of the Boneyard
(@Reference,40375,0,1,1,1,0,0,0),  -- Ring of Decaying Beauty
(@Reference,40371,0,1,1,1,0,0,0),  -- Bandit's Insignia
(@Reference,40376,0,1,1,1,0,0,0),  -- Legwraps of the Defeated Dragon
(@Reference,40378,0,1,1,1,0,0,0),  -- Ceaseless Pity
(@Reference,40366,0,1,1,1,0,0,0);  -- Platehelm of the Great Wyrm

-- Boss (Kel'Thuzad)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @KelThuzad;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @KelThuzad;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@KelThuzad,45624,100,0,2,2,0,0,0), -- Emblem of Conquest
--
(@KelThuzad,40631,0,1,1,1,0,0,0),  -- Crown of the Lost Conqueror
(@KelThuzad,40632,0,1,1,1,0,0,0),  -- Crown of the Lost Protector
(@KelThuzad,40633,0,1,1,1,0,0,0),  -- Crown of the Lost Vanquisher
--
(@KelThuzad,1,100,0,-@Reference,3,0,0,0); -- Reference, he drop 3 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40399,0,1,1,1,0,0,0),  -- Signet of Manifested Pain
(@Reference,40387,0,1,1,1,0,0,0),  -- Boundless Ambition
(@Reference,40396,0,1,1,1,0,0,0),  -- The Turning Tide
(@Reference,40405,0,1,1,1,0,0,0),  -- Cape of the Unworthy Wizard
(@Reference,40401,0,1,1,1,0,0,0),  -- Voice of Reason
(@Reference,40388,0,1,1,1,0,0,0),  -- Journey's End
(@Reference,40385,0,1,1,1,0,0,0),  -- Envoy of Mortality
(@Reference,40384,0,1,1,1,0,0,0),  -- Betrayer of Humanity
(@Reference,40395,0,1,1,1,0,0,0),  -- Torch of Holy Fire
(@Reference,40402,0,1,1,1,0,0,0),  -- Last Laugh
(@Reference,40398,0,1,1,1,0,0,0),  -- Leggings of Mortal Arrogance
(@Reference,40383,0,1,1,1,0,0,0),  -- Calamity's Grasp
(@Reference,40386,0,1,1,1,0,0,0),  -- Sinister Revenge
(@Reference,40400,0,1,1,1,0,0,0),  -- Wall of Terror
(@Reference,40403,0,1,1,1,0,0,0);  -- Drape of the Deadly Foe

SET @Razuvious := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 16061);
SET @Gothik := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 16060);
SET @FourHorsemen := (SELECT `data1` FROM gameobject_template WHERE `entry` = 193426); -- Heroic entry for Four Horsemen Chest

-- Boss (Instructor Razuvious)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Razuvious;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Razuvious;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Razuvious,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Razuvious,1,100,0,-@Reference,4,0,0,0); -- Reference, he drop 4 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40327,0,1,1,1,0,0,0),  -- Girdle of Recuperation
(@Reference,40317,0,1,1,1,0,0,0),  -- Girdle of Razuvious
(@Reference,40069,0,1,1,1,0,0,0),  -- Heritage
(@Reference,40108,0,1,1,1,0,0,0),  -- Seized Beauty
(@Reference,40080,0,1,1,1,0,0,0),  -- Lost Jewel
(@Reference,40324,0,1,1,1,0,0,0),  -- Bands of Mutual Respect
(@Reference,40316,0,1,1,1,0,0,0),  -- Gauntlets of Guiding Touch
(@Reference,40074,0,1,1,1,0,0,0),  -- Strong-Handed Ring
(@Reference,40071,0,1,1,1,0,0,0),  -- Chains of Adoration
(@Reference,40315,0,1,1,1,0,0,0),  -- Shoulderpads of Secret Arts
(@Reference,40065,0,1,1,1,0,0,0),  -- Fool's Trial
(@Reference,40318,0,1,1,1,0,0,0),  -- Legplates of Double Strikes
(@Reference,40323,0,1,1,1,0,0,0),  -- Esteemed Bindings
(@Reference,40305,0,1,1,1,0,0,0),  -- Spaulders of Egotism
(@Reference,40325,0,1,1,1,0,0,0),  -- Bindings of the Expansive Mind
(@Reference,40306,0,1,1,1,0,0,0),  -- Bracers of the Unholy Knight
(@Reference,40320,0,1,1,1,0,0,0),  -- Faithful Steel Sabatons
(@Reference,40326,0,1,1,1,0,0,0),  -- Boots of Forlorn Wishes
(@Reference,40064,0,1,1,1,0,0,0),  -- Thunderstorm Amulet
(@Reference,40319,0,1,1,1,0,0,0),  -- Chestpiece of Suspicion
(@Reference,40107,0,1,1,1,0,0,0),  -- Sand-Worn Band
(@Reference,40075,0,1,1,1,0,0,0),  -- Ruthlessness
(@Reference,40321,0,1,1,1,0,0,0),  -- Idol of the Shooting Star
(@Reference,40322,0,1,1,1,0,0,0);  -- Totem of Dueling

-- Boss (Gothik the Harvester)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Gothik;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Gothik;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Gothik,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Gothik,1,100,0,-@Reference,4,0,0,0); -- Reference, he drop 4 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40340,0,1,1,1,0,0,0),  -- Helm of Unleashed Energy
(@Reference,40333,0,1,1,1,0,0,0),  -- Leggings of Fleeting Moments
(@Reference,40335,0,1,1,1,0,0,0),  -- Touch of Horror
(@Reference,40332,0,1,1,1,0,0,0),  -- Abetment Bracers
(@Reference,40253,0,1,1,1,0,0,0),  -- Shawl of the Old Maid
(@Reference,40338,0,1,1,1,0,0,0),  -- Bindings of Yearning
(@Reference,40254,0,1,1,1,0,0,0),  -- Cloak of Averted Crisis
(@Reference,40330,0,1,1,1,0,0,0),  -- Bracers of Unrelenting Attack
(@Reference,40258,0,1,1,1,0,0,0),  -- Forethought Talisman
(@Reference,40251,0,1,1,1,0,0,0),  -- Shroud of Luminosity
(@Reference,40252,0,1,1,1,0,0,0),  -- Cloak of the Shadowed Sun
(@Reference,40339,0,1,1,1,0,0,0),  -- Gothik's Cowl
(@Reference,40257,0,1,1,1,0,0,0),  -- Defender's Code
(@Reference,40329,0,1,1,1,0,0,0),  -- Hood of the Exodus
(@Reference,40328,0,1,1,1,0,0,0),  -- Helm of Vital Protection
(@Reference,40341,0,1,1,1,0,0,0),  -- Shackled Cinch
(@Reference,40255,0,1,1,1,0,0,0),  -- Dying Curse
(@Reference,40331,0,1,1,1,0,0,0),  -- Leggings of Failed Escape
(@Reference,40250,0,1,1,1,0,0,0),  -- Aged Winter Cloak
(@Reference,40336,0,1,1,1,0,0,0),  -- Life and Death
(@Reference,40256,0,1,1,1,0,0,0),  -- Grim Toll
(@Reference,40334,0,1,1,1,0,0,0),  -- Burdened Shoulderplates
(@Reference,40337,0,1,1,1,0,0,0),  -- Libram of Resurgence
(@Reference,40342,0,1,1,1,0,0,0);  -- Idol of Awakening




-- Boss (Four Horsemen) (Chest)
-- Delete Previous Loot Template
DELETE FROM `gameobject_loot_template` WHERE `entry` = @FourHorsemen;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Create New Loot Template
-- Data: WoWArmory
INSERT INTO `gameobject_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@FourHorsemen,45624,100,0,1,1,0,0,0),  -- Emblem of Conquest
--
(@FourHorsemen,40626,0,1,1,1,0,0,0), -- Breastplate of the Lost Protector
(@FourHorsemen,40625,0,1,1,1,0,0,0), -- Breastplate of the Lost Conqueror
(@FourHorsemen,40627,0,1,1,1,0,0,0), -- Breastplate of the Lost Vanquisher
--
(@FourHorsemen,40344,100,0,-@Reference,2,0,0,0);  -- Reference, it contain 2 items of the loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--  
(@Reference,40344,0,1,1,1,0,0,0), -- Helm of the Grave
(@Reference,40345,0,1,1,1,0,0,0), -- Broken Promise
(@Reference,40350,0,1,1,1,0,0,0), -- Urn of Lost Memories
(@Reference,40349,0,1,1,1,0,0,0), -- Gloves of Peaceful Death
(@Reference,40348,0,1,1,1,0,0,0), -- Damnation
(@Reference,40352,0,1,1,1,0,0,0), -- Leggings of Voracious Shadows
(@Reference,40347,0,1,1,1,0,0,0), -- Zeliek's Gauntlets
(@Reference,40286,0,1,1,1,0,0,0), -- Mantle of the Corrupted
(@Reference,40343,0,1,1,1,0,0,0), -- Armageddon
(@Reference,40346,0,1,1,1,0,0,0); -- Final Voyage

SET @AnubRekhan := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15956);
SET @Faerlina := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15953);
SET @Maexxna := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15952);

-- Boss (Anub'Rekhan)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @AnubRekhan;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @AnubRekhan;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@AnubRekhan,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@AnubRekhan,1,100,0,-@Reference,4,0,0,0); -- Reference, he drop 4 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,39722,0,1,1,1,0,0,0),  -- Swarm Bindings
(@Reference,39712,0,1,1,1,0,0,0),  -- Gemmed Wand of the Nerubians
(@Reference,39704,0,1,1,1,0,0,0),  -- Pauldrons of Unnatural Death
(@Reference,40069,0,1,1,1,0,0,0),  -- Heritage
(@Reference,39719,0,1,1,1,0,0,0),  -- Mantle of the Locusts
(@Reference,40108,0,1,1,1,0,0,0),  -- Seized Beauty
(@Reference,39714,0,1,1,1,0,0,0),  -- Webbed Death
(@Reference,40080,0,1,1,1,0,0,0),  -- Lost Jewel
(@Reference,39703,0,1,1,1,0,0,0),  -- Rescinding Grips
(@Reference,39718,0,1,1,1,0,0,0),  -- Corpse Scarab Handguards
(@Reference,39717,0,1,1,1,0,0,0),  -- Inexorable Sabatons
(@Reference,40074,0,1,1,1,0,0,0),  -- Strong-Handed Ring
(@Reference,40071,0,1,1,1,0,0,0),  -- Chains of Adoration
(@Reference,39702,0,1,1,1,0,0,0),  -- Arachnoid Gold Band
(@Reference,39706,0,1,1,1,0,0,0),  -- Sabatons of Sudden Reprisal
(@Reference,39701,0,1,1,1,0,0,0),  -- Dawnwalkers
(@Reference,40064,0,1,1,1,0,0,0),  -- Thunderstorm Amulet
(@Reference,39721,0,1,1,1,0,0,0),  -- Sash of the Parlor
(@Reference,39720,0,1,1,1,0,0,0),  -- Leggings of Atrophy
(@Reference,40075,0,1,1,1,0,0,0),  -- Ruthlessness
(@Reference,40107,0,1,1,1,0,0,0),  -- Sand-Worn Band
(@Reference,39716,0,1,1,1,0,0,0),  -- Shield of Assimilation
(@Reference,40065,0,1,1,1,0,0,0);  -- Fool's Trial

-- Boss (Grand Widow Faerlina)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Faerlina;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Faerlina;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Faerlina,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Faerlina,1,100,0,-@Reference,4,0,0,0); -- Reference, she drop 4 items of her loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40069,0,1,1,1,0,0,0),  -- Heritage
(@Reference,40108,0,1,1,1,0,0,0),  -- Seized Beauty
(@Reference,39735,0,1,1,1,0,0,0),  -- Belt of False Dignity
(@Reference,40080,0,1,1,1,0,0,0),  -- Lost Jewel
(@Reference,39727,0,1,1,1,0,0,0),  -- Dislocating Handguards
(@Reference,39724,0,1,1,1,0,0,0),  -- Cult's Chestguard
(@Reference,40074,0,1,1,1,0,0,0),  -- Strong-Handed Ring
(@Reference,40071,0,1,1,1,0,0,0),  -- Chains of Adoration
(@Reference,39734,0,1,1,1,0,0,0),  -- Atonement Greaves
(@Reference,39729,0,1,1,1,0,0,0),  -- Bracers of the Tyrant
(@Reference,40065,0,1,1,1,0,0,0),  -- Fool's Trial
(@Reference,39732,0,1,1,1,0,0,0),  -- Faerlina's Madness
(@Reference,39726,0,1,1,1,0,0,0),  -- Callous-Hearted Gauntlets
(@Reference,39723,0,1,1,1,0,0,0),  -- Fire-Scorched Greathelm
(@Reference,39731,0,1,1,1,0,0,0),  -- Punctilious Bindings
(@Reference,39756,0,1,1,1,0,0,0),  -- Tunic of Prejudice
(@Reference,39730,0,1,1,1,0,0,0),  -- Widow's Fury
(@Reference,40064,0,1,1,1,0,0,0),  -- Thunderstorm Amulet
(@Reference,39733,0,1,1,1,0,0,0),  -- Gloves of Token Respect
(@Reference,39725,0,1,1,1,0,0,0),  -- Epaulets of the Grieving Servant
(@Reference,40107,0,1,1,1,0,0,0),  -- Sand-Worn Band
(@Reference,40075,0,1,1,1,0,0,0),  -- Ruthlessness
(@Reference,39757,0,1,1,1,0,0,0),  -- Idol of Worship
(@Reference,39728,0,1,1,1,0,0,0);  -- Totem of Misery

-- Boss (Maexxna)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Maexxna;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Maexxna;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Maexxna,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Maexxna,1,100,0,-@Reference,4,0,0,0); -- Reference, she drop 4 items of her loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--  
(@Reference,40061,0,1,1,1,0,0,0),  -- Quivering Tunic
(@Reference,39763,0,1,1,1,0,0,0),  -- Wraith Strike
(@Reference,39768,0,1,1,1,0,0,0),  -- Cowl of the Perished
(@Reference,40253,0,1,1,1,0,0,0),  -- Shawl of the Old Maid
(@Reference,39761,0,1,1,1,0,0,0),  -- Infectious Skitterer Leggings
(@Reference,40254,0,1,1,1,0,0,0),  -- Cloak of Averted Crisis
(@Reference,39760,0,1,1,1,0,0,0),  -- Helm of Diminished Pride
(@Reference,40258,0,1,1,1,0,0,0),  -- Forethought Talisman
(@Reference,40251,0,1,1,1,0,0,0),  -- Shroud of Luminosity
(@Reference,40252,0,1,1,1,0,0,0),  -- Cloak of the Shadowed Sun
(@Reference,39762,0,1,1,1,0,0,0),  -- Torn Web Wrapping
(@Reference,39759,0,1,1,1,0,0,0),  -- Ablative Chitin Girdle
(@Reference,40257,0,1,1,1,0,0,0),  -- Defender's Code
(@Reference,40060,0,1,1,1,0,0,0),  -- Distorted Limbs
(@Reference,39767,0,1,1,1,0,0,0),  -- Undiminished Battleplate
(@Reference,39758,0,1,1,1,0,0,0),  -- The Jawbone
(@Reference,40062,0,1,1,1,0,0,0),  -- Digested Silken Robes
(@Reference,39764,0,1,1,1,0,0,0),  -- Bindings of the Hapless Prey
(@Reference,40255,0,1,1,1,0,0,0),  -- Dying Curse
(@Reference,39765,0,1,1,1,0,0,0),  -- Sinner's Bindings
(@Reference,40063,0,1,1,1,0,0,0),  -- Mantle of Shattered Kinship
(@Reference,40250,0,1,1,1,0,0,0),  -- Aged Winter Cloak
(@Reference,40256,0,1,1,1,0,0,0),  -- Grim Toll
(@Reference,39766,0,1,1,1,0,0,0);  -- Matriarch's Spawn

SET @Patchwerk := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 16028);
SET @Grobbulus := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15931);
SET @Gluth := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15932);
SET @Thaddius := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15928);

-- Boss (Patchwerk)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Patchwerk;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Patchwerk;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Patchwerk,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Patchwerk,1,100,0,-@Reference,4,0,0,0); -- Reference, he drop 4 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40260,0,1,1,1,0,0,0),  -- Belt of the Tortured
(@Reference,40271,0,1,1,1,0,0,0),  -- Sash of Solitude
(@Reference,40069,0,1,1,1,0,0,0),  -- Heritage
(@Reference,40108,0,1,1,1,0,0,0),  -- Seized Beauty
(@Reference,40273,0,1,1,1,0,0,0),  -- Surplus Limb
(@Reference,40080,0,1,1,1,0,0,0),  -- Lost Jewel
(@Reference,40263,0,1,1,1,0,0,0),  -- Fleshless Girdle
(@Reference,40265,0,1,1,1,0,0,0),  -- Arrowsong
(@Reference,40074,0,1,1,1,0,0,0),  -- Strong-Handed Ring
(@Reference,40071,0,1,1,1,0,0,0),  -- Chains of Adoration
(@Reference,40266,0,1,1,1,0,0,0),  -- Hero's Surrender
(@Reference,40065,0,1,1,1,0,0,0),  -- Fool's Trial
(@Reference,40264,0,1,1,1,0,0,0),  -- Split Greathammer
(@Reference,40259,0,1,1,1,0,0,0),  -- Waistguard of Divine Grace
(@Reference,40269,0,1,1,1,0,0,0),  -- Boots of Persuasion
(@Reference,40262,0,1,1,1,0,0,0),  -- Gloves of Calculated Risk
(@Reference,40261,0,1,1,1,0,0,0),  -- Crude Discolored Battlegrips
(@Reference,40064,0,1,1,1,0,0,0),  -- Thunderstorm Amulet
(@Reference,40272,0,1,1,1,0,0,0),  -- Girdle of the Gambit
(@Reference,40270,0,1,1,1,0,0,0),  -- Boots of Septic Wounds
(@Reference,40107,0,1,1,1,0,0,0),  -- Sand-Worn Band
(@Reference,40075,0,1,1,1,0,0,0),  -- Ruthlessness
(@Reference,40268,0,1,1,1,0,0,0),  -- Libram of Tolerance
(@Reference,40267,0,1,1,1,0,0,0);  -- Totem of Hex

-- Boss (Grobbulus)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Grobbulus;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Grobbulus;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Grobbulus,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Grobbulus,1,100,0,-@Reference,4,0,0,0); -- Reference, he drop 4 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40281,0,1,1,1,0,0,0),  -- Twilight Mist
(@Reference,40253,0,1,1,1,0,0,0),  -- Shawl of the Old Maid
(@Reference,40274,0,1,1,1,0,0,0),  -- Bracers of Liberation
(@Reference,40289,0,1,1,1,0,0,0),  -- Sympathetic Amice
(@Reference,40288,0,1,1,1,0,0,0),  -- Spaulders of Incoherence
(@Reference,40254,0,1,1,1,0,0,0),  -- Cloak of Averted Crisis
(@Reference,40258,0,1,1,1,0,0,0),  -- Forethought Talisman
(@Reference,40283,0,1,1,1,0,0,0),  -- Fallout Impervious Tunic
(@Reference,40251,0,1,1,1,0,0,0),  -- Shroud of Luminosity
(@Reference,40282,0,1,1,1,0,0,0),  -- Slime Stream Bands
(@Reference,40252,0,1,1,1,0,0,0),  -- Cloak of the Shadowed Sun
(@Reference,40257,0,1,1,1,0,0,0),  -- Defender's Code
(@Reference,40275,0,1,1,1,0,0,0),  -- Depraved Linked Belt
(@Reference,40280,0,1,1,1,0,0,0),  -- Origin of Nightmares
(@Reference,40285,0,1,1,1,0,0,0),  -- Desecrated Past
(@Reference,40277,0,1,1,1,0,0,0),  -- Tunic of Indulgence
(@Reference,40255,0,1,1,1,0,0,0),  -- Dying Curse
(@Reference,40250,0,1,1,1,0,0,0),  -- Aged Winter Cloak
(@Reference,40284,0,1,1,1,0,0,0),  -- Plague Igniter
(@Reference,40278,0,1,1,1,0,0,0),  -- Girdle of Chivalry
(@Reference,40279,0,1,1,1,0,0,0),  -- Chestguard of the Exhausted
(@Reference,40256,0,1,1,1,0,0,0),  -- Grim Toll
(@Reference,40287,0,1,1,1,0,0,0),  -- Cowl of Vanity
(@Reference,40351,0,1,1,1,0,0,0);  -- Mantle of the Fatigued Sage

-- Boss (Gluth)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Gluth;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Gluth;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Gluth,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Gluth,40634,0,1,1,1,0,0,0),  -- Legplates of the Lost Conqueror
(@Gluth,40625,0,1,1,1,0,0,0),  -- Breastplate of the Lost Conqueror
(@Gluth,40637,0,1,1,1,0,0,0),  -- Mantle of the Lost Conqueror

(@Gluth,40638,0,2,1,1,0,0,0),  -- Mantle of the Lost Protector
(@Gluth,40626,0,2,1,1,0,0,0),  -- Breastplate of the Lost Protector
(@Gluth,40635,0,2,1,1,0,0,0),  -- Legplates of the Lost Protector

(@Gluth,40636,0,3,1,1,0,0,0),  -- Legplates of the Lost Vanquisher
(@Gluth,40639,0,3,1,1,0,0,0),  -- Mantle of the Lost Vanquisher
(@Gluth,40627,0,3,1,1,0,0,0),  -- Breastplate of the Lost Vanquisher
--
(@Gluth,1,100,0,-@Reference,2,0,0,0); -- Reference, he drop 2 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40247,0,1,1,1,0,0,0),
(@Reference,40289,0,1,1,1,0,0,0),
(@Reference,40602,0,1,1,1,0,0,0),
(@Reference,39733,0,1,1,1,0,0,0),
(@Reference,40303,0,1,1,1,0,0,0),
(@Reference,40326,0,1,1,1,0,0,0),
(@Reference,40296,0,1,1,1,0,0,0),
(@Reference,39768,0,1,1,1,0,0,0),
(@Reference,40319,0,1,1,1,0,0,0),
(@Reference,40260,0,1,1,1,0,0,0),
(@Reference,40205,0,1,1,1,0,0,0),
(@Reference,40270,0,1,1,1,0,0,0),
(@Reference,40193,0,1,1,1,0,0,0),
(@Reference,40209,0,1,1,1,0,0,0),
(@Reference,40302,0,1,1,1,0,0,0),
(@Reference,39718,0,1,1,1,0,0,0),
(@Reference,40242,0,1,1,1,0,0,0),
(@Reference,39760,0,1,1,1,0,0,0),
(@Reference,40185,0,1,1,1,0,0,0),
(@Reference,40203,0,1,1,1,0,0,0),
(@Reference,40332,0,1,1,1,0,0,0),
(@Reference,40188,0,1,1,1,0,0,0),
(@Reference,40259,0,1,1,1,0,0,0),
(@Reference,40204,0,1,1,1,0,0,0),
(@Reference,39717,0,1,1,1,0,0,0),
(@Reference,40206,0,1,1,1,0,0,0),
(@Reference,40297,0,1,1,1,0,0,0),
(@Reference,40350,0,1,1,1,0,0,0),
(@Reference,40191,0,1,1,1,0,0,0);

-- Boss (Thaddius)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Thaddius;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Thaddius;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Thaddius,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Thaddius,40634,0,3,1,1,0,0,0),  -- Legplates of the Lost Conqueror
(@Thaddius,40635,0,3,1,1,0,0,0),  -- Legplates of the Lost Protector
(@Thaddius,40636,0,3,1,1,0,0,0),  -- Legplates of the Lost Vanquisher
--
(@Thaddius,1,100,0,-@Reference,2,0,0,0); -- Reference, he drop 2 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--  
(@Reference,40301,0,1,1,1,0,0,0),  -- Cincture of Polarity
(@Reference,40303,0,1,1,1,0,0,0),  -- Wraps of the Persecuted
(@Reference,40296,0,1,1,1,0,0,0),  -- Cover of Silence
(@Reference,40300,0,1,1,1,0,0,0),  -- Spire of Sunset
(@Reference,40299,0,1,1,1,0,0,0),  -- Pauldrons of the Abandoned
(@Reference,40298,0,1,1,1,0,0,0),  -- Faceguard of the Succumbed
(@Reference,40294,0,1,1,1,0,0,0),  -- Riveted Abomination Leggings
(@Reference,40302,0,1,1,1,0,0,0),  -- Benefactor's Gauntlets
(@Reference,40304,0,1,1,1,0,0,0),  -- Headpiece of Fungal Bloom
(@Reference,40297,0,1,1,1,0,0,0);  -- Sabatons of Endurance

SET @Noth := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15954);
SET @Heigan := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 15936);
SET @Loatheb := (SELECT `difficulty_entry_1` FROM `creature_template` WHERE `entry` = 16011);

-- Boss (Noth the Plaguebringer)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Noth;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Noth;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Noth,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--  
(@Noth,1,100,0,-@Reference,4,0,0,0); -- Reference, he drop 4 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40602,0,1,1,1,0,0,0), -- Robes of Mutation
(@Reference,40196,0,1,1,1,0,0,0), -- Legguards of the Undisturbed
(@Reference,40069,0,1,1,1,0,0,0), -- Heritage
(@Reference,40189,0,1,1,1,0,0,0), -- Angry Dread
(@Reference,40108,0,1,1,1,0,0,0), -- Seized Beauty
(@Reference,40186,0,1,1,1,0,0,0), -- Thrusting Bands
(@Reference,40080,0,1,1,1,0,0,0), -- Lost Jewel
(@Reference,40187,0,1,1,1,0,0,0), -- Poignant Sabatons
(@Reference,40074,0,1,1,1,0,0,0), -- Strong-Handed Ring
(@Reference,40071,0,1,1,1,0,0,0), -- Chains of Adoration
(@Reference,40188,0,1,1,1,0,0,0), -- Gauntlets of the Disobedient
(@Reference,40193,0,1,1,1,0,0,0), -- Tunic of Masked Suffering
(@Reference,40065,0,1,1,1,0,0,0), -- Fool's Trial
(@Reference,40185,0,1,1,1,0,0,0), -- Shoulderguards of Opportunity
(@Reference,40200,0,1,1,1,0,0,0), -- Belt of Potent Chanting
(@Reference,40190,0,1,1,1,0,0,0), -- Spinning Fate
(@Reference,40198,0,1,1,1,0,0,0), -- Bands of Impurity
(@Reference,40192,0,1,1,1,0,0,0), -- Accursed Spine
(@Reference,40184,0,1,1,1,0,0,0), -- Crippled Treads
(@Reference,40064,0,1,1,1,0,0,0), -- Thunderstorm Amulet
(@Reference,40197,0,1,1,1,0,0,0), -- Gloves of the Fallen Wizard
(@Reference,40107,0,1,1,1,0,0,0), -- Sand-Worn Band
(@Reference,40075,0,1,1,1,0,0,0), -- Ruthlessness
(@Reference,40191,0,1,1,1,0,0,0); -- Libram of Radiance


-- Boss (Heigan the Unclean)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Heigan;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Heigan;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Heigan,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Heigan,1,100,0,-@Reference,4,0,0,0); -- Reference, he drop 4 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40235,0,1,1,1,0,0,0),  -- Helm of Pilgrimage
(@Reference,40236,0,1,1,1,0,0,0),  -- Serene Echoes
(@Reference,40209,0,1,1,1,0,0,0),  -- Bindings of the Decrepit
(@Reference,40204,0,1,1,1,0,0,0),  -- Legguards of the Apostle
(@Reference,40253,0,1,1,1,0,0,0),  -- Shawl of the Old Maid
(@Reference,40201,0,1,1,1,0,0,0),  -- Leggings of Colossal Strides
(@Reference,40233,0,1,1,1,0,0,0),  -- The Undeath Carrier
(@Reference,40254,0,1,1,1,0,0,0),  -- Cloak of Averted Crisis
(@Reference,40258,0,1,1,1,0,0,0),  -- Forethought Talisman
(@Reference,40251,0,1,1,1,0,0,0),  -- Shroud of Luminosity
(@Reference,40238,0,1,1,1,0,0,0),  -- Gloves of the Dancing Bear
(@Reference,40252,0,1,1,1,0,0,0),  -- Cloak of the Shadowed Sun
(@Reference,40257,0,1,1,1,0,0,0),  -- Defender's Code
(@Reference,40210,0,1,1,1,0,0,0),  -- Chestguard of Bitter Charms
(@Reference,40203,0,1,1,1,0,0,0),  -- Breastplate of Tormented Rage
(@Reference,40208,0,1,1,1,0,0,0),  -- Cryptfiend's Bite
(@Reference,40255,0,1,1,1,0,0,0),  -- Dying Curse
(@Reference,40250,0,1,1,1,0,0,0),  -- Aged Winter Cloak
(@Reference,40237,0,1,1,1,0,0,0),  -- Eruption-Scarred Boots
(@Reference,40205,0,1,1,1,0,0,0),  -- Stalk-Skin Belt
(@Reference,40234,0,1,1,1,0,0,0),  -- Heigan's Putrid Vestments
(@Reference,40256,0,1,1,1,0,0,0),  -- Grim Toll
(@Reference,40206,0,1,1,1,0,0,0),  -- Iron-Spring Jumpers
(@Reference,40207,0,1,1,1,0,0,0);  -- Sigil of Awareness

-- Boss (Loatheb)
-- Delete Previous Loot Template
DELETE FROM `creature_loot_template` WHERE `entry` = @Loatheb;
SET @Reference := 1+(SELECT `entry` FROM `reference_loot_template` WHERE `entry` BETWEEN 34000 AND 34999 ORDER BY `entry` DESC LIMIT 1);
DELETE FROM `reference_loot_template` WHERE `entry` = @Reference;

-- Set Lootid
UPDATE `creature_template` SET `lootid` = `entry` WHERE `entry` = @Loatheb;

-- Create a New Loot Template
-- Data: WoWArmory
INSERT INTO `creature_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Loatheb,45624,100,0,1,1,0,0,0), -- Emblem of Conquest
--
(@Loatheb,40638,0,1,1,1,0,0,0),  -- Mantle of the Lost Protector
(@Loatheb,40639,0,1,1,1,0,0,0),  -- Mantle of the Lost Vanquisher
(@Loatheb,40637,0,1,1,1,0,0,0),  -- Mantle of the Lost Conqueror
--
(@Loatheb,1,100,0,-@Reference,2,0,0,0);  -- Reference, he drop 2 items of his loot

-- Reference loot
INSERT INTO `reference_loot_template` (`entry`,`item`,`ChanceOrQuestChance`,`groupid`,`mincountOrRef`,`maxcount`,`lootcondition`,`condition_value1`,`condition_value2`) VALUES
--
(@Reference,40245,0,1,1,1,0,0,0),  -- Fading Glow
(@Reference,40241,0,1,1,1,0,0,0),  -- Girdle of Unity
(@Reference,40244,0,1,1,1,0,0,0),  -- The Impossible Dream
(@Reference,40239,0,1,1,1,0,0,0),  -- The Hand of Nerub
(@Reference,40249,0,1,1,1,0,0,0),  -- Vest of Vitality
(@Reference,40240,0,1,1,1,0,0,0),  -- Greaves of Turbulence
(@Reference,40247,0,1,1,1,0,0,0),  -- Cowl of Innocent Delight
(@Reference,40243,0,1,1,1,0,0,0),  -- Footwraps of Vile Deceit
(@Reference,40246,0,1,1,1,0,0,0),  -- Boots of Impetuous Ideals
(@Reference,40242,0,1,1,1,0,0,0);  -- Grotesque Handgrips